(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{govI:function(e,t,o){"use strict";o.r(t);var n=o("ofXK"),r=o("tyNb"),i=o("BAv7"),c=o("eIep"),s=o("SwN5"),a=o("BcaM"),b=o("fXoL"),h=o("njIz"),d=o("3Pt+");function u(e,t){if(1&e){const e=b.Wb();b.Vb(0,"div"),b.Vb(1,"h2"),b.Gc(2),b.lc(3,"uppercase"),b.Tb(),b.Vb(4,"div"),b.Vb(5,"span"),b.Gc(6,"id: "),b.Tb(),b.Gc(7),b.Tb(),b.Vb(8,"div"),b.Vb(9,"label"),b.Gc(10,"name:"),b.Vb(11,"input",1),b.hc("ngModelChange",(function(t){return b.wc(e),b.kc().editName=t})),b.Tb(),b.Tb(),b.Tb(),b.Vb(12,"button",2),b.hc("click",(function(t){b.wc(e);const o=b.kc();return o.save(o.hero)})),b.Gc(13,"save"),b.Tb(),b.Vb(14,"button",2),b.hc("click",(function(t){b.wc(e);const o=b.kc();return o.goToHeroesList(o.hero.id.toString())})),b.Gc(15,"go back"),b.Tb(),b.Tb()}if(2&e){const e=b.kc();b.Bb(2),b.Ic(" ",b.mc(3,3,e.editName)," "),b.Bb(5),b.Ic("",e.hero.id," "),b.Bb(4),b.pc("ngModel",e.editName)}}let l=(()=>{class e extends s.a{constructor(e,t,o,n){super(),this.route=e,this.router=t,this.heroService=o,this.location=n,this.heroService.setNouns(i.a)}canDeactivate(){return!this.hero||this.hero.name===this.editName||a.a.confirm("Discard changes?")}goBack(){this.location.back()}goToHeroesList(e){this.router.navigate(["../../",{id:e,foo:"fighters"}],{relativeTo:this.route})}save(e){e.name=this.editName,this.heroService.updateHero(e).subscribe(()=>this.goToHeroesList(e.id.toString()))}ngOnInitDontUse(){this.hero$=this.route.paramMap.pipe(Object(c.a)(e=>this.heroService.getHero(e.get("id"))))}ngOnInit(){this.subscription=this.route.data.subscribe(e=>{this.hero=e.hero,this.editName=this.hero.name})}ngOnDestroy(){this.subscription.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(b.Ob(r.a),b.Ob(r.b),b.Ob(h.a),b.Ob(n.h))},e.ɵcmp=b.Ib({type:e,selectors:[["app-hero-detail"]],features:[b.yb],decls:3,vars:1,consts:[[4,"ngIf"],["placeholder","wpisz imię",3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,t){1&e&&(b.Vb(0,"h2"),b.Gc(1," details!\n"),b.Tb(),b.Ec(2,u,16,5,"div",0)),2&e&&(b.Bb(2),b.pc("ngIf",t.hero))},directives:[n.l,d.b,d.g,d.i],pipes:[n.q],styles:["label[_ngcontent-%COMP%]{display:inline-block;width:3em;margin:.5em 0;color:#607d8b;font-weight:700}input[_ngcontent-%COMP%]{height:2em;font-size:1em;padding-left:.4em}button[_ngcontent-%COMP%]{margin-top:10px;margin-right:10px;font-family:Arial,serif;background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button[_ngcontent-%COMP%]:disabled{background-color:#eee;color:#ccc;cursor:auto}"]}),e})();var p=o("HDdC");const g=function(e){return["../hero",e]};function f(e,t){if(1&e){const e=b.Wb();b.Vb(0,"li"),b.Vb(1,"a",5),b.Vb(2,"span",6),b.Gc(3),b.Tb(),b.Gc(4),b.Tb(),b.Vb(5,"button",7),b.hc("click",(function(o){b.wc(e);const n=t.$implicit;return b.kc().delete(n)})),b.Vb(6,"strong"),b.Gc(7,"x"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=t.$implicit,o=b.kc();b.Fb("selected",e.id===o.selectedId),b.Bb(1),b.pc("routerLink",b.sc(4,g,e.id)),b.Bb(2),b.Ic(" ",e.id,""),b.Bb(1),b.Ic(" ",e.name,"")}}let m=(()=>{class e{constructor(e,t){this.heroService=e,this.route=t,e.setNouns(i.a)}add(e){(e=e.trim())&&(this.subscription=this.heroService.addHero({name:e}).subscribe(e=>{this.heroes$.push(e),this.qty++}))}delete(e){this.heroes$=this.heroes$.filter(t=>t!==e),this.subscription=this.heroService.deleteHero(e).subscribe(()=>{this.qty--})}ngOnInitDontUse(){this.subscription=this.route.paramMap.pipe(Object(c.a)(e=>(this.selectedId=+e.get("id"),this.subscription2=this.heroService.getHeroes().subscribe(e=>{this.heroes$=e,this.qty=e.length}),new p.a))).subscribe()}ngOnInit(){this.subscription=this.route.data.subscribe(e=>{this.heroes$=e.heroesHere,this.qty=this.heroes$.length}),this.subscription2=this.route.paramMap.subscribe(e=>{this.selectedId=+e.get("id")})}ngOnDestroy(){this.subscription.unsubscribe(),this.subscription2.unsubscribe()}}return e.ɵfac=function(t){return new(t||e)(b.Ob(h.a),b.Ob(r.a))},e.ɵcmp=b.Ib({type:e,selectors:[["app-hero-list"]],decls:13,vars:2,consts:[[1,"inline-block"],["heroName",""],[3,"click"],[1,"heroes"],[3,"selected",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"],["title","delete hero",1,"delete",3,"click"]],template:function(e,t){if(1&e){const e=b.Wb();b.Vb(0,"h2",0),b.Gc(1," HEROES\n"),b.Tb(),b.Vb(2,"div"),b.Gc(3),b.Tb(),b.Vb(4,"div"),b.Vb(5,"label"),b.Gc(6,"Hero name: "),b.Pb(7,"input",null,1),b.Tb(),b.Vb(9,"button",2),b.hc("click",(function(o){b.wc(e);const n=b.vc(8);return t.add(n.value),n.value=""})),b.Gc(10," add "),b.Tb(),b.Tb(),b.Vb(11,"ul",3),b.Ec(12,f,8,6,"li",4),b.Tb()}2&e&&(b.Bb(3),b.Ic(" (ilość: ",t.qty,")\n"),b.Bb(9),b.pc("ngForOf",t.heroes$))},directives:[n.k,r.d],styles:[".heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;text-decoration:none;position:relative;display:block;width:250px}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}button[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;font-family:Arial,serif}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button.delete[_ngcontent-%COMP%]{position:relative;left:192px;top:-33px;background-color:gray!important;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#bdbfdc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#a9a0dc}label[_ngcontent-%COMP%]{margin-right:8px}"]}),e})();var v=o("LRne"),O=o("EY2u"),k=o("IzEk"),M=o("5+tZ");let y=(()=>{class e{}return e.ɵmod=b.Mb({type:e}),e.ɵinj=b.Lb({factory:function(t){return new(t||e)}}),e})(),C=(()=>{class e{constructor(e,t){this.heroService=e,this.router=t,e.setNouns(i.a)}resolve(e,t){const o=e.paramMap.get("id");return this.heroService.getHeroNo404(o).pipe(Object(k.a)(1),Object(M.a)(e=>e?Object(v.a)(e):(this.router.navigate(["/crisis/crisis-center/superheroes"]).then(e=>console.log("HeroDetailResolverService # resolve() # navigate(): "+t.url+" / "+e)),O.a)))}}return e.ɵfac=function(t){return new(t||e)(b.dc(h.a),b.dc(r.b))},e.ɵprov=b.Kb({token:e,factory:e.ɵfac,providedIn:y}),e})(),w=(()=>{class e{}return e.ɵmod=b.Mb({type:e}),e.ɵinj=b.Lb({factory:function(t){return new(t||e)}}),e})();const P=[{path:"",component:m,resolve:{heroesHere:(()=>{class e{constructor(e,t){this.heroService=e,this.router=t,e.setNouns(i.a)}resolve(e,t){return this.heroService.getHeroes().pipe(Object(k.a)(1),Object(M.a)(e=>e?Object(v.a)(e):(this.router.navigate(["/crisis"]),O.a)))}}return e.ɵfac=function(t){return new(t||e)(b.dc(h.a),b.dc(r.b))},e.ɵprov=b.Kb({token:e,factory:e.ɵfac,providedIn:w}),e})()},data:{animation:"heroesq"}},{path:"superhero/:id",component:l,resolve:{hero:C},data:{animation:"heroq"},canDeactivate:[s.a]},{path:"hero/:id",redirectTo:"superhero/:id"}];let T=(()=>{class e{}return e.ɵmod=b.Mb({type:e}),e.ɵinj=b.Lb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(P)],r.e]}),e})();o.d(t,"HeroesModule",(function(){return _}));let _=(()=>{class e{}return e.ɵmod=b.Mb({type:e}),e.ɵinj=b.Lb({factory:function(t){return new(t||e)},providers:[h.a],imports:[[n.c,d.f,w,y,T]]}),e})()}}]);